# Agents backlog – **Phase 0C (Next 15 front‑end)**

> One ticket ≈ 100 LOC. Mark ✅ when merged into `main`.

| ID  | Description (≤ LOC)                                                                                                                 | Owner | Status |
|-----|-------------------------------------------------------------------------------------------------------------------------------------|-------|--------|
| F1  | **Env & SDK wrapper (≈ 20)** – add `.env.local`; create `lib/getStreamClient.ts` that memoises `StreamChat.getInstance(process.env.NEXT_PUBLIC_API_URL!)` |       | ✅ |
| F2  | **Token fetch utility (≈ 30)** – `lib/getToken.ts` calls `/api/token` and returns `{ userID, userToken }`                            |       | ✅ |
| F3  | **ChatProvider component (≈ 40)** – React Context; in `useEffect` do `client.connectUser({ id: userID }, userToken)` and expose `{ client, channel }` |       | ✅ |
| F4  | **Default channel bootstrap (≈ 30)** – `client.channel("messaging", "general").watch()`; store channel in Context                    |       | ☐ |
| F5  | **UI scaffold (≤ 50)** – `<Chat><Channel><Window><MessageList/><MessageInput/></Window></Channel></Chat>`                            |       | ☐ |
| F6  | **Event logger & markRead (≈ 20)** – `channel.on("message.new", () => channel.markRead())`                                           |       | ☐ |
| F7  | **Smoke-test page (≈ 10)** – Next 15 route `/demo` mounts the provider & scaffold; shows “hello world” round-trip                    |       | ☐ |




**Phase 0 is done** (“Dave Matthews → hello world”) when every ☐ above is ✅.

---

## Phase 0 implementation ticket (for Codex)

* **Target branch:** `feat/phase0-chat`  
* **Touch files:** `chat/consumers.py`, `chat/routing.py`, `chat/tests/test_websocket.py`  
* **Assumptions:** SQLite dev DB, auth _disabled_ (`AllowAny`), room already exists via `POST /api/rooms/`.  
* **Acceptance:** pytest passes – create room → WS connect → `channel.watch` → `sendMessage` → receive `message.new`.
